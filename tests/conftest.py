"""
Модуль tests.conftest.py — конфигурация тестового окружения WorkCalendarClient.

Содержит общие фикстуры и настройки, используемые во всех тестах пакета.

Назначение:
- Создание единого тестового клиента для имитации HTTP‑запросов к API.
- Централизованное управление тестовым окружением.
- Упрощение повторного использования настроек в разных тестовых модулях.

Экспортируемые объекты:
- client — экземпляр TestClient для взаимодействия с приложением FastAPI.
  Позволяет отправлять HTTP‑запросы в тестовом режиме без реального сервера.

Используемые компоненты:
- fastapi.testclient.TestClient — тестовый клиент для FastAPI‑приложений.
- app — основной экземпляр приложения из app.main.py.

Пример использования в тестах:
    def test_index_page():
        response = client.get("/")
        assert response.status_code == 200

Требования к окружению:
- Установленный пакет fastapi[all] (включает тестовый клиент).
- Доступ к модулю app (основное приложение должно быть импортируемо).

Рекомендации по расширению:
- Добавьте фикстуры для тестовых данных (например, mock‑календарь).
- Создайте фикстуры для подключения к тестовой БД (если используется).
- Определите общие вспомогательные функции для подготовки тестов.
- Настройте параметры окружения через pytest.fixture(scope="session").

Примечания:
- TestClient автоматически обрабатывает жизненный цикл приложения.
- Запросы через client имитируют реальные HTTP‑взаимодействия.
- Для асинхронных тестов используйте asyncio и соответствующие фикстуры.
"""

from fastapi.testclient import TestClient

from app import app

client = TestClient(app)
